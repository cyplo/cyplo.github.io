<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Wordpress and nonstandard ports and protocols | Adventurous Computing</title>
<link href="../../../../assets/css/bitter.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/main.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/custom.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../../rss.xml">
<link rel="canonical" href="https://blog.cyplo.net/posts/2014/01/01/wordpress-https-nonstandard-port.html">
<!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]--><link rel="stylesheet" type="text/css" href="../../../../assets/css/fontawesome.css">
<link rel="stylesheet" type="text/css" href="../../../../assets/css/titillium.css">
<link rel="stylesheet" type="text/css" href="../../../../assets/css/mermaid.forest.css">
<meta name="author" content="Cyryl Płotnicki">
<meta property="og:site_name" content="Adventurous Computing">
<meta property="og:title" content="Wordpress and nonstandard ports and protocols">
<meta property="og:url" content="https://blog.cyplo.net/posts/2014/01/01/wordpress-https-nonstandard-port.html">
<meta property="og:description" content="I needed to set up a Wordpress installation where https is on
nonstandard port and the admin interface lives in that land, while the
site itself is using plain http.
In wp-config.php:
if (!empty($_SER">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2014-01-01T11:32:36Z">
<meta property="article:tag" content="https">
<meta property="article:tag" content="port">
<meta property="article:tag" content="tcpip">
<meta property="article:tag" content="wordpress">
</head>
<body>
    <div class="social">
        <ul>
<li><a href="../../../../index.html" title="Home"><i class="fa-home fa-4x fa"></i></a></li>
            <li><a href="../../../../archive.html" title="Archives"><i class="fa-folder-open fa-3x fa"></i></a></li>
            <li><a href="../../../../files.html" title="Files"><i class="fa-files-o fa-3x fa"></i></a></li>
            <li><a href="../../../../about.html" title="About me"><i class="fa-user fa-3x fa"></i></a></li>
            <li><a href="https://twitter.com/cyplo" title="My Twitter"><i class="fa-twitter fa-3x fa"></i></a></li>
            <li><a href="https://github.com/cyplo" title="My Github"><i class="fa-github fa-3x fa"></i></a></li>
            <li><a href="../../../../rss.xml" title="RSS"><i class="fa-rss fa-3x fa"></i></a></li>

        </ul>
</div>
    <div class="page-content">
        <div class="content" rel="main">
            
    <div class="post">
    
    <h1 class="p-name entry-title" itemprop="headline name">Wordpress and nonstandard ports and protocols</h1>

        <div class="meta">
            <div class="authordate">
                <time class="timeago" datetime="2014-01-01T11:32:36+00:00">2014-01-01 11:32</time>
</div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="../../../../categories/https.html" rel="tag">https</a></li>
           <li><a class="tag p-category" href="../../../../categories/port.html" rel="tag">port</a></li>
           <li><a class="tag p-category" href="../../../../categories/tcpip.html" rel="tag">tcpip</a></li>
           <li><a class="tag p-category" href="../../../../categories/wordpress.html" rel="tag">wordpress</a></li>
        </ul>
</div>

        </div>
        <div class="body">
            <div>
<p>I needed to set up a Wordpress installation where https is on
nonstandard port and the admin interface lives in that land, while the
site itself is using plain http.</p>
<p>In wp-config.php:</p>
<pre class="code php"><a name="rest_code_27089e0ed5ba46929bf14ad8efa21a0b-1"></a><span class="x">if (!empty($_SERVER['HTTPS'])) {</span>
<a name="rest_code_27089e0ed5ba46929bf14ad8efa21a0b-2"></a><span class="x">    define('WP_SITEURL', 'https://example.com:12345');</span>
<a name="rest_code_27089e0ed5ba46929bf14ad8efa21a0b-3"></a><span class="x">    define('WP_HOME', 'https://example.com:12345');</span>
<a name="rest_code_27089e0ed5ba46929bf14ad8efa21a0b-4"></a><span class="x">}</span>
<a name="rest_code_27089e0ed5ba46929bf14ad8efa21a0b-5"></a><span class="x">else {</span>
<a name="rest_code_27089e0ed5ba46929bf14ad8efa21a0b-6"></a><span class="x">    define('WP_SITEURL', 'http://example.com');</span>
<a name="rest_code_27089e0ed5ba46929bf14ad8efa21a0b-7"></a><span class="x">    define('WP_HOME', 'http://example.com');</span>
<a name="rest_code_27089e0ed5ba46929bf14ad8efa21a0b-8"></a><span class="x">}</span>
</pre>
<p>This allows the installation to properly see resources like
images and css if accessed via nonstandard port. So if you don't see
image previews in the admin panel, your styles look weird, or you just
don't see new posts' previewes - this might be it.</p>
</div>
        </div>
        
        <ul class="pager hidden-print">
<li class="previous">
                <a href="../../../2013/12/28/30c3-day-1.html" rel="prev" title="30C3 day 1">Previous post</a>
            </li>
            <li class="next">
                <a href="../21/meetings.html" rel="next" title="Meetings">Next post</a>
            </li>
        </ul>
<div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="cyplo",
            disqus_url="https://blog.cyplo.net/posts/2014/01/01/wordpress-https-nonstandard-port.html",
        disqus_title="Wordpress and nonstandard ports and protocols",
        disqus_identifier="cache/posts/2014/01/01/wordpress-https-nonstandard-port.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        
    


    </div>

        
       <script>var disqus_shortname="cyplo";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer"><p><br>Contents on of this blog are licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>. <br></p>
            
        </footer>
</div>
    </div>
    
<script src="../../../../assets/js/mermaid.js"></script><script>mermaid.initialize({startOnLoad:true, cloneCssStyles: false});</script><script src="../../../../assets/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="../../../../assets/js/jquery.timeago.js" type="text/javascript"></script><script type="text/javascript">
            $(function(){
                $('.timeago').timeago();
            });
        </script>
</body>
</html>
