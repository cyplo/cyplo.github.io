!function(r,q){"function"==typeof define&&define.amd?define(q):"object"==typeof exports?module.exports=q():r.baguetteBox=q()}(this,function(){var r,q,x,w;function U(a,y){var e=document.querySelectorAll(a),c={galleries:[],nodeList:e};u[a]=c;[].forEach.call(e,function(a){y&&y.filter&&(I=y.filter);var e=[];if(e="A"===a.tagName?[a]:a.getElementsByTagName("a"),e=[].filter.call(e,function(a){return I.test(a.href)}),0!==e.length){var g=[];[].forEach.call(e,function(a,e){var c=function(a){a.preventDefault?
a.preventDefault():a.returnValue=!1;if(s!==g){s=g;(a=y)||(a={});for(var c in J)d[c]=J[c],void 0!==a[c]&&(d[c]=a[c]);f.style.transition=f.style.webkitTransition="fadeIn"===d.animation?"opacity .4s ease":"slideIn"===d.animation?"":"none";"auto"===d.buttons&&("ontouchstart"in window||1===s.length)&&(d.buttons=!1);l.style.display=m.style.display=d.buttons?"":"none";try{b.style.backgroundColor=d.overlayBackgroundColor}catch(n){}for(;f.firstChild;)f.removeChild(f.firstChild);t.length=0;a=[];for(var k=[],
h=0;h<g.length;h++)c=document.createElement("div"),c.className="full-image",c.id="baguette-img-"+h,t.push(c),a.push("baguetteBox-figure-"+h),k.push("baguetteBox-figcaption-"+h),f.appendChild(t[h]);b.setAttribute("aria-labelledby",a.join(" "));b.setAttribute("aria-describedby",k.join(" "))}V(e)},n={eventHandler:c,imageElement:a};p(a,"click",c);g.push(n)});c.galleries.push(g)}})}function K(a){u.hasOwnProperty(a)&&([].forEach.call(u[a].galleries,function(a){[].forEach.call(a,function(a){h(a.imageElement,
"click",a.eventHandler)});s===a&&(s=[])}),delete u[a])}function D(a){switch(a.keyCode){case 37:z();break;case 39:A();break;case 27:B()}}function V(a){d.noScrollbars&&(document.documentElement.style.overflowY="hidden",document.body.style.overflowY="scroll");"block"!==b.style.display&&(p(document,"keydown",D),g=a,r=0,x=q=null,w=void 0,E(g,function(){F(g);G(g)}),H(),b.style.display="block",d.fullScreen&&(b.requestFullscreen?b.requestFullscreen():b.webkitRequestFullscreen?b.webkitRequestFullscreen():
b.mozRequestFullScreen&&b.mozRequestFullScreen()),setTimeout(function(){b.className="visible";d.afterShow&&d.afterShow()},50),d.onChange&&d.onChange(g,t.length),L=document.activeElement,d.buttons?l.focus():k.focus())}function B(){d.noScrollbars&&(document.documentElement.style.overflowY="auto",document.body.style.overflowY="auto");"none"!==b.style.display&&(h(document,"keydown",D),b.className="",setTimeout(function(){b.style.display="none";document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?
document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();d.afterHide&&d.afterHide()},500),L.focus())}function E(a,b){var e=t[a],c=s[a];if(void 0!==e&&void 0!==c){if(e.getElementsByTagName("img")[0])return void(b&&b());var n=c.imageElement,c=n.getElementsByTagName("img")[0],g="function"==typeof d.captions?d.captions.call(s,n):n.getAttribute("data-caption")||n.title,n=W(n),f=document.createElement("figure");if(f.id="baguetteBox-figure-"+a,f.innerHTML='<div class="baguetteBox-spinner"><div class="baguetteBox-double-bounce1"></div><div class="baguetteBox-double-bounce2"></div></div>',
d.captions&&g){var h=document.createElement("figcaption");h.id="baguetteBox-figcaption-"+a;h.innerHTML=g;f.appendChild(h)}e.appendChild(f);e=document.createElement("img");e.onload=function(){var c=document.querySelector("#baguette-img-"+a+" .baguetteBox-spinner");f.removeChild(c);!d.async&&b&&b()};e.setAttribute("src",n);e.alt=c?c.alt||"":"";d.titleTag&&g&&(e.title=g);f.appendChild(e);d.async&&b&&b()}}function W(a){var b=a.href;if(a.dataset){var e=[],c;for(c in a.dataset)"at-"!==c.substring(0,3)||
isNaN(c.substring(3))||(e[c.replace("at-","")]=a.dataset[c]);a=Object.keys(e).sort(function(a,c){return parseInt(a,10)<parseInt(c,10)?-1:1});c=window.innerWidth*window.devicePixelRatio;for(var d=0;d<a.length-1&&a[d]<c;)d++;b=e[a[d]]||b}return b}function A(){var a;return g<=t.length-2?(g++,H(),F(g),a=!0):d.animation&&(f.className="bounce-from-right",setTimeout(function(){f.className=""},400),a=!1),d.onChange&&d.onChange(g,t.length),a}function z(){var a;return 1<=g?(g--,H(),G(g),a=!0):d.animation&&
(f.className="bounce-from-left",setTimeout(function(){f.className=""},400),a=!1),d.onChange&&d.onChange(g,t.length),a}function H(){var a=100*-g+"%";"fadeIn"===d.animation?(f.style.opacity=0,setTimeout(function(){v.transforms?f.style.transform=f.style.webkitTransform="translate3d("+a+",0,0)":f.style.left=a;f.style.opacity=1},400)):v.transforms?f.style.transform=f.style.webkitTransform="translate3d("+a+",0,0)":f.style.left=a}function F(a){a-g>=d.preload||E(a+1,function(){F(a+1)})}function G(a){g-a>=
d.preload||E(a-1,function(){G(a-1)})}function p(a,b,e,c){a.addEventListener?a.addEventListener(b,e,c):a.attachEvent("on"+b,function(a){a=a||window.event;a.target=a.target||a.srcElement;e(a)})}function h(a,b,e,c){a.removeEventListener?a.removeEventListener(b,e,c):a.detachEvent("on"+b,e)}var b,f,l,m,k,d={},J={captions:!0,fullScreen:!1,noScrollbars:!1,titleTag:!1,buttons:"auto",async:!1,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null,overlayBackgroundColor:"rgba(0,0,0,.8)"},
v={},s=[],g=0;w=x=q=r=void 0;var C=!1,I=/.+\.(gif|jpe?g|png|webp)/i,u={},t=[],L=null,M=function(a){-1!==a.target.id.indexOf("baguette-img")&&B()},N=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;z()},O=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;A()},P=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;B()},Q=function(a){r++;1<r&&(w=!0);q=a.changedTouches[0].pageX;x=a.changedTouches[0].pageY},R=function(a){!C&&!w&&(a.preventDefault?a.preventDefault():
a.returnValue=!1,a=a.touches[0]||a.changedTouches[0],40<a.pageX-q?(C=!0,z()):-40>a.pageX-q?(C=!0,A()):100<x-a.pageY&&B())},S=function(){r--;0>=r&&(w=!1);C=!1},T=function(a){"block"===b.style.display&&(b.contains&&!b.contains(a.target))&&(a.stopPropagation(),d.buttons?l.focus():k.focus())};return[].forEach||(Array.prototype.forEach=function(a,b){for(var e=0;e<this.length;e++)a.call(b,this[e],e,this)}),[].filter||(Array.prototype.filter=function(a,b,e,c,d){e=this;c=[];for(d=0;d<e.length;d++)a.call(b,
e[d],d,e)&&c.push(e[d]);return c}),{run:function(a,d){var e=v,c=document.createElement("div");e.transforms=void 0!==c.style.perspective||void 0!==c.style.webkitPerspective;e=v;c=document.createElement("div");c=(c.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(c.firstChild&&c.firstChild.namespaceURI));e.svg=c;(b=document.getElementById("baguetteBox-overlay"))?(f=document.getElementById("baguetteBox-slider"),l=document.getElementById("previous-button"),m=document.getElementById("next-button"),k=
document.getElementById("close-button")):(b=document.createElement("div"),b.setAttribute("role","dialog"),b.id="baguetteBox-overlay",document.getElementsByTagName("body")[0].appendChild(b),f=document.createElement("div"),f.id="baguetteBox-slider",b.appendChild(f),l=document.createElement("button"),l.setAttribute("type","button"),l.id="previous-button",l.setAttribute("aria-label","Previous"),l.innerHTML=v.svg?'<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>':
"&lt;",b.appendChild(l),m=document.createElement("button"),m.setAttribute("type","button"),m.id="next-button",m.setAttribute("aria-label","Next"),m.innerHTML=v.svg?'<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>':"&gt;",b.appendChild(m),k=document.createElement("button"),k.setAttribute("type","button"),k.id="close-button",k.setAttribute("aria-label","Close"),k.innerHTML=
v.svg?'<svg width="30" height="30"><g stroke="rgb(160,160,160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/></g></svg>':"&times;",b.appendChild(k),l.className=m.className=k.className="baguetteBox-button",p(b,"click",M),p(l,"click",N),p(m,"click",O),p(k,"click",P),p(b,"touchstart",Q),p(b,"touchmove",R),p(b,"touchend",S),p(document,"focus",T,!0));K(a);U(a,d)},destroy:function(){h(b,"click",M);h(l,"click",N);h(m,"click",O);h(k,"click",P);h(b,"touchstart",
Q);h(b,"touchmove",R);h(b,"touchend",S);h(document,"focus",T,!0);for(var a in u)u.hasOwnProperty(a)&&K(a);h(document,"keydown",D);document.getElementsByTagName("body")[0].removeChild(document.getElementById("baguetteBox-overlay"));u={};s=[];g=0},showNext:A,showPrevious:z}});
